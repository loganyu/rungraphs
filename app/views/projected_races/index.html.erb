<div class="races-container">
	<div class="sub-title-container projected-races-container">
		race predictions
	</div>
	<% if @projected_races.empty? %>
		There aren't any race predictions right now.
	<% else %>
		<table class="index-page-table">
			<thead>
				<tr class="header-column">
					<th class="race-name">Race</th>
					<th class="race-distance">Distance</th>
					<th class="race-date">Date</th>
				</tr>
			</thead>
			<tbody class="race-table-body">
				<% @projected_races.each do |projected_race| %>
			  	<tr class="index-page-link js-index-page-link" data-href="<%=projected_race_url(projected_race.slug)%>">
		  			<td class="race-name">
		  					<%=projected_race.name%>
		  			</td>
		  			<td class='race-distance'><%=projected_race.distance%>
			  			<% if projected_race.distance == 1.0 %>
			      	  mile
			       	<% else %>
			          miles
			        <% end %>
			     	</td>
		  			<td class='race-date'><%=projected_race.date.strftime("%m/%d/%Y")%></td>
					</tr>
				<% end %>
			</tbody>
		</table>
	<% end %>
</div>

<script>
$(document).ready(function(){
	$(".js-index-page-link").click(function() {
	    window.document.location = $(this).data("href");
	});

	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	ga('create', 'UA-60193441-1', 'auto');
	ga('send', 'pageview');
});
</script>
